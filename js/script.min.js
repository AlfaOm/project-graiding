const navMain=document.querySelector(".main-nav"),navToggle=document.querySelector(".page-header__toggle"),navClose=document.querySelector(".main-nav__toggle"),showNav=document.querySelector(".main-nav__wrapper");navMain.classList.remove("main-nav--nojs"),navToggle.addEventListener("click",(function(){navMain.classList.contains("main-nav--closed")?(navMain.classList.remove("main-nav--closed"),showNav.classList.add("main-nav__wrapper--show")):(navMain.classList.add("main-nav--closed"),showNav.classList.remove("main-nav__wrapper--show"))})),navClose.addEventListener("click",(function(e){e.preventDefault(),navMain.classList.add("main-nav--closed")})),window.addEventListener("keydown",(function(e){27===e.keyCode&&(e.preventDefault(),showNav.classList.contains("main-nav__wrapper--show")&&(navMain.classList.add("main-nav--closed"),showNav.classList.remove("main-nav__wrapper--show")))}));const modal=document.querySelector(".modal-wrapper"),modalClose=modal.querySelector(".modal-wrapper__close"),buyTour=document.querySelectorAll(".button--buy"),modalForm=modal.querySelector("form"),modalFormSubmit=document.querySelector(".modal-wrapper"),modalSuccess=document.querySelector(".modal-wrapper__success"),feedbackForm=document.querySelector("#form-feedback");buyTour.forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault(),modal.classList.add("modal-wrapper--show")}))})),modalClose.addEventListener("click",(function(e){e.preventDefault(),modal.classList.remove("modal-wrapper--show"),modalSuccess.classList.remove("modal-wrapper__success--show")})),window.addEventListener("keydown",(function(e){27===e.keyCode&&(e.preventDefault(),modal.classList.contains("modal-wrapper--show")&&modal.classList.remove("modal-wrapper--show"),modalSuccess.classList.remove("modal-wrapper__success--show"))})),modalForm.addEventListener("submit",(e=>{e.preventDefault(),modalSuccess.classList.add("modal-wrapper__success--show"),modalForm.reset()})),feedbackForm.addEventListener("submit",(e=>{e.preventDefault(),modal.classList.add("modal-wrapper--show"),modalSuccess.classList.add("modal-wrapper__success--show"),feedbackForm.reset()}));let tab=document.querySelectorAll(".tours-list__item"),content=document.querySelectorAll(".tour-card");function hideTab(){tab.forEach((e=>{e.classList.remove("tours-list__item--current")})),content.forEach((e=>{e.classList.remove("tour-card--show")}))}tab.forEach((function(e,a){e.addEventListener("click",(function(){hideTab(),this.classList.add("tours-list__item--current"),content[a].classList.add("tour-card--show")}))})),window.addEventListener("DOMContentLoaded",(function(){[].forEach.call(document.querySelectorAll(".form__input--tel"),(function(e){let a;function t(e){e.keyCode&&(a=e.keyCode),this.selectionStart<3&&e.preventDefault();let t="(___) ___ ____",s=0,o=t.replace(/\D/g,""),n=this.value.replace(/\D/g,""),r=t.replace(/[_\d]/g,(function(e){return s<n.length?n.charAt(s++)||o.charAt(s):e}));s=r.indexOf("_"),-1!=s&&(s<5&&(s=3),r=r.slice(0,s));let l=t.substr(0,this.value.length).replace(/_+/g,(function(e){return"\\d{1,"+e.length+"}"})).replace(/[+()]/g,"\\$&");l=new RegExp("^"+l+"$"),(!l.test(this.value)||this.value.length<5||a>47&&a<58)&&(this.value=r),"blur"==e.type&&this.value.length<5&&(this.value="")}e.addEventListener("input",t,!1),e.addEventListener("focus",t,!1),e.addEventListener("blur",t,!1),e.addEventListener("keydown",t,!1)}))}));